---
title: "동기화 전략"
description: "낙관적 vs 비관적, 롤백"
---

# 동기화 전략

낙관적 vs 비관적, 롤백

## 결정 시 고려사항

- 게임 템포
- 허용 가능한 지연시간
- 복잡도 예산

## 선택지

### 낙관적 동기화

**장점**:
- 즉각적 피드백
- 좋은 UX

**단점**:
- 롤백 필요
- 복잡한 구현

**사용 사례**:
- 액션 게임
- FPS

### 비관적 동기화

**장점**:
- 단순한 구현
- 일관성 보장

**단점**:
- 입력 지연
- 느린 반응

**사용 사례**:
- 턴제 게임
- RTS

## 의사결정 사례 연구

### 철권 7 → 철권 8: 지연 기반에서 롤백으로

**문제**: 철권 7의 지연 기반 넷코드는 5-20프레임의 입력 지연을 발생시켜 온라인 대전의 반응성이 크게 떨어졌습니다. 스트리트 파이터 5, 길티기어 등 경쟁작들이 롤백을 채택하면서 비교 대상이 되었습니다.

**결정**: 철권 8에서 롤백 넷코드로 전환. 3D 격투 게임은 캐릭터당 155개 이상의 기술과 복잡한 애니메이션으로 롤백 구현이 어렵지만, 개발팀이 이를 감수.

**결과**: 로컬 입력 반응성 대폭 개선. 크로스플랫폼 대전 지원. SF6보다는 약간 떨어지지만 '99%의 매치에서 부드러운 경험' 제공.

### 왜 스타크래프트는 락스텝을 유지할까?

**문제**: 격투 게임들이 롤백으로 전환하는 추세에서 스타크래프트는 여전히 지연 기반 락스텝을 사용합니다.

**결정**: 락스텝 유지. 1) 한 경기에 수백 개의 유닛이 존재하여 롤백 시 모든 유닛 상태를 저장하고 재시뮬레이션하는 것은 메모리와 CPU 부담이 큼. 2) RTS는 격투 게임만큼 프레임 단위 정밀 입력이 필요하지 않아 2-4프레임 지연은 수용 가능. 3) 결정론적 시뮬레이션이 잘 작동하고 있으며 리플레이 시스템도 이에 의존.

**결과**: 안정적인 동기화 유지, 리플레이 시스템 보존, 레거시 시스템과의 호환성 유지.

### 왜 LoL은 클라이언트 예측을 기본으로 하지 않을까?

**문제**: FPS 게임들은 클라이언트 예측으로 즉각적인 반응성을 제공하는데, LoL은 왜 서버 응답을 기다릴까요?

**결정**: 서버 권위 우선. 1) 서버가 유일한 진실 공급원이면 클라이언트 조작이 어려워 경쟁 게임에서 공정성 보장. 2) 10명의 챔피언, 미니언, 스킬샷이 복잡하게 상호작용하여 클라이언트 예측이 틀리면 '순간이동' 현상이 빈번해짐. 3) Riot Direct 네트워크로 60ms 이하 핑을 보장하여 저지연 환경에서는 예측의 이점이 크지 않음.

**결과**: 치팅 방지, 일관된 게임 경험, 안정적인 경쟁 환경 제공.

