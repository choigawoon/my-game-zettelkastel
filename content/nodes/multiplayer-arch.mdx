---
title: "멀티플레이 아키텍처"
description: "P2P vs Client-Server, 권한 모델"
---

# 멀티플레이 아키텍처

P2P vs Client-Server, 권한 모델

## 결정 시 고려사항

- 플레이어 수
- 치트 민감도
- 예산
- 지연시간 요구사항

## 선택지

### P2P (Peer-to-Peer)

**장점**:
- 서버 비용 없음
- 낮은 지연시간 가능

**단점**:
- 치트 취약
- NAT 문제
- 확장성 제한

**사용 사례**:
- 격투 게임
- 소규모 협동

### Client-Server

**장점**:
- 서버 권한으로 치트 방지
- 확장성
- 중앙 제어

**단점**:
- 서버 비용
- 지연시간 증가

**사용 사례**:
- FPS
- MMORPG
- 배틀로얄

## 의사결정 사례 연구

### 워크래프트3 vs 리그 오브 레전드: 아키텍처 비교

**문제**: LoL은 워크래프트3 유즈맵(DotA)에서 파생되었지만, 네트워킹 아키텍처는 완전히 다릅니다. 왜 이런 결정을 했을까요?

**결정**: 워크래프트3/스타크래프트는 P2P 락스텝(한 플레이어가 호스트)을 사용합니다. 모든 클라이언트가 동일한 결정론적 시뮬레이션을 실행하고 입력만 전송합니다. 과거 네트워크 대역폭이 제한적이었기 때문입니다. 반면 LoL은 Riot의 전용 서버가 게임 상태를 계산하는 Client-Server 모델을 선택했습니다. 서버가 단일 진실 공급원이 되어 치팅을 방지합니다.

**결과**: LoL은 대역폭이 충분해진 환경에서 치팅 방지와 확장성을 확보. 전용 서버 인프라로 안정적인 경쟁 환경 제공.

### DotA → Dota 2: P2P에서 Client-Server로

**문제**: DotA 1은 워크래프트3 엔진의 P2P 락스텝을 그대로 사용했습니다.

**결정**: Dota 2는 Valve의 Source 2 엔진으로 재작성되며 클라이언트-서버 모델로 전환했습니다. 이는 LoL과 동일한 이유: 치팅 방지 + 전용 서버 인프라.

**결과**: 치팅 방지, 안정적인 e스포츠 환경, 매치메이킹 시스템 개선.

### 스타크래프트: P2P 락스텝의 이유

**문제**: 많은 게임들이 Client-Server로 전환하는데 스타크래프트는 왜 P2P를 유지할까요?

**결정**: P2P 락스텝 유지. 수천 유닛 상태를 매 프레임 전송하는 것은 불가능했던 1998년 환경에서 설계됨. 입력만 전송하여 대역폭 절약. TCP 사용으로 끊김보다 렉을 선호.

**결과**: 낮은 대역폭 요구사항, 완벽한 동기화, 리플레이 시스템 지원. 다만 호스트 이탈 시 새 호스트 선출 필요.

