---
title: "물리 처리 방식"
description: "서버 vs 클라이언트 물리 연산"
---

# 물리 처리 방식

서버 vs 클라이언트 물리 연산

## 결정 시 고려사항

- 반응성 요구사항
- 경쟁성
- 서버 리소스

## 선택지

### 서버 물리

**장점**:
- 일관성 보장
- 치트 방지

**단점**:
- 입력 지연
- 서버 부하

**사용 사례**:
- 경쟁 게임
- e스포츠

### 클라이언트 물리

**장점**:
- 즉각적 반응
- 서버 부하 감소

**단점**:
- 동기화 문제
- 치트 가능

**사용 사례**:
- 싱글플레이어
- 협동 PvE

## 의사결정 사례 연구

### 카운터스트라이크: Lag Compensation과 'Peeker's Advantage'

**문제**: CS에서 모서리를 돌아 적을 먼저 보는 플레이어(피커)가 유리합니다. 피커의 화면에서는 적이 보이지만, 적의 화면에서는 아직 피커가 나타나지 않은 상태입니다. 이것이 'Peeker's Advantage'입니다. 순수 서버 권한 모델에서는 빠른 움직임의 플레이어가 항상 불리해집니다.

**결정**: Valve는 'Lag Compensation' 시스템을 구현했습니다. 서버가 과거의 히트박스 위치를 저장하고, 클라이언트가 발사한 시점의 서버 상태로 되감아 히트 판정을 수행합니다. 이렇게 하면 클라이언트의 화면에서 맞춘 샷이 실제로 히트로 인정됩니다.

**결과**: 'Favor the Shooter' 원칙으로 사격자의 조준이 더 정확하게 반영됨. 다만 피격자 입장에서는 '이미 숨었는데 맞았다'는 느낌이 발생. cl_interp_ratio 등 클라이언트 설정으로 보간 버퍼를 조절하여 트레이드오프 조정 가능.

### 오버워치: 'Favor the Shooter'와 하이브리드 접근

**문제**: 오버워치는 다양한 영웅이 존재하고, 트레이서 같은 빠른 영웅과 위도우메이커 같은 저격수가 공존합니다. 순수 서버 권한에서는 고핑 플레이어가 빠른 영웅을 맞추기 어렵고, 순수 클라이언트 권한에서는 치트와 불공정이 발생합니다.

**결정**: Blizzard는 'Favor the Shooter' 정책을 채택했습니다. 공격자의 클라이언트에서 맞은 것으로 판정되면 서버가 이를 존중합니다. 단, 방어 스킬(겐지 튕기기, D.Va 매트릭스)은 서버에서 우선 처리하여 '이미 막았는데 맞았다'를 방지.

**결과**: 공격자의 에임이 정확히 반영되어 쾌적한 공격 경험 제공. 방어 스킬의 신뢰성 유지. 다만 피격자의 '억울한 죽음' 체감은 존재. GDC 2017에서 이 시스템을 상세히 공개.

### 포트나이트: 건축과 총격의 충돌

**문제**: 포트나이트는 총격 + 건축이 결합된 독특한 게임입니다. 플레이어가 벽을 세우는 동시에 적이 발사하면, 누가 먼저인지에 따라 결과가 달라집니다. 건축과 총격의 권한 충돌이 발생합니다.

**결정**: 에픽게임즈는 서버 권한을 기반으로 하되, 클라이언트 예측으로 즉각적인 건축 피드백을 제공합니다. 총알은 서버에서 판정하지만, 벽 건설은 클라이언트에서 즉시 표시됩니다. 충돌 시 서버가 최종 결정.

**결과**: 건축의 반응성을 유지하면서 총격의 공정성 확보. 다만 높은 핑에서는 '벽을 세웠는데 뚫렸다'는 불만 발생. 이를 완화하기 위해 벽 건설에 짧은 우선권 부여.

